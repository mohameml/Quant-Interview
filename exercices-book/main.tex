\documentclass[a4paper,11pt]{book}

% ---------- Packages ----------
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{amsmath,amssymb}
\usepackage{geometry}
\usepackage{tcolorbox}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{hyperref}
\usepackage{titlesec}
\usepackage{lipsum}
\usepackage{etoolbox}
\usepackage{tikz}
\usetikzlibrary{arrows.meta}
\usepackage{float}
\usepackage{bookmark}
% \usepackage{booktabs}
% \usepackage{array}
% \usepackage{caption}
% \usepackage{geometry}
\usepackage{booktabs}        % Pour un beau tableau
\usepackage{array}           % Pour une meilleure gestion des colonnes
% \usepackage[table]{xcolor}   % Pour colorer les lignes/colonnes
\usepackage{caption}         % Pour styliser les légendes
\usepackage{geometry}        % (optionnel) Pour gérer les marges du document
\usepackage{pgfplots}
\pgfplotsset{compat=1.17}
\usepackage{amsmath}
\usepackage{tcolorbox}
\usepackage{graphicx}
\usepackage{float} % Pour [H]
\usepackage{pgfplots}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{graphicx}
\usepackage{xcolor}
\pgfplotsset{compat=1.18}
\usepackage{lipsum} % pour du texte factice
\usepackage{tocloft}


% ---------- Mise en page ----------
\geometry{margin=2.5cm}
\pagestyle{fancy}
\fancyhead[L]{}
\fancyhead[C]{\nouppercase{\leftmark}}
\fancyhead[R]{}
\fancyfoot[C]{\thepage}

\setlength{\parskip}{0.5em}
\setlength{\parindent}{0pt}

% 
\setlength{\headheight}{14pt}


% ---------- Encadrés ----------
\newtcolorbox{exerciseBox}[1][]{colback=orange!10!white,colframe=orange!70, title=#1, fonttitle=\bfseries}
\newtcolorbox{solutionBox}[1][]{colback=red!5!white,colframe=red!75!black, title=#1, fonttitle=\bfseries}
\newtcolorbox{propsBox}[1][]{colback=orange!5!white,colframe=orange!80!black, title=#1, fonttitle=\bfseries}
\newtcolorbox{interviewBox}[1][]{colback=orange!5!white,colframe=orange!80!black, title=#1, fonttitle=\bfseries}
\newtcolorbox{rappelBox}[1][]{
  colback=red!5!white,
  colframe=red!75!black,
  title={\textbf{Rappel :} #1},
}
\newtcolorbox{preuveBox}{
  colback=brown!5!white,
  colframe=brown!75!black,
  title={\textbf{Preuve}},
}
% \newcommand{\eur}{€}
\usepackage{fontspec}
\setmainfont{Latin Modern Roman} % ou autre police avec €


\newcommand{\EUR}{\text{€}}
\newcommand{\USD}{\text{\$}}



% ---------- Nouvelle commande pour page de titre de cours ----------
\newcommand{\cour}[1]{
  \clearpage
  \thispagestyle{empty}
  \vspace*{\fill}
  \begin{center}
    {\Huge \textbf{#1}}\\[1.5cm]
    % {\Large Résumé de cours}\\[1cm]
    
    % \today
  \end{center}
  \vspace*{\fill}
  \clearpage
}

% Définition d'une commande pour les sous-parties
% \newcommand{\subpart}[1]{%
%   \cleardoublepage
%   \chapter*{}%
%   \addcontentsline{toc}{chapter}{#1}%
%   \markboth{#1}{}%
%   \vspace*{\fill}
%   \begin{center}
%     {\Huge \textbf{#1}}
%   \end{center}
%   \vspace*{\fill}
%   \cleardoublepage
% }
% Définition d'une commande pour les sous-parties avec reset du compteur
\newcommand{\subpart}[1]{%
  \cleardoublepage
  \setcounter{chapter}{0} % <-- reset compteur des chapitres
  \chapter*{}%
  \addcontentsline{toc}{chapter}{#1}%
  \markboth{#1}{}%
  \vspace*{\fill}
  \begin{center}
    {\Huge \textbf{#1}}
  \end{center}
  \vspace*{\fill}
  \cleardoublepage
}


% Définition d'un nouveau niveau "subpart" pour la TOC

% \newcommand{\l@subpart}{\@dottedtocline{1}{1.5em}{2.3em}} % indentation
% \makeatletter
% \newcommand{\l@subpart}{\@dottedtocline{1}{1.5em}{3em}}
% \makeatother


% Commande pour créer les subparts
% \newcommand{\subpart}[1]{%
%   \cleardoublepage
%   \setcounter{chapter}{0}
%   \chapter*{#1}%
%   \addcontentsline{toc}{subpart}{#1}% <-- ajouté comme "subpart"
%   \markboth{#1}{}%
%   \vspace*{\fill}
%   \begin{center}
%     {\Huge \textbf{#1}}
%   \end{center}
%   \vspace*{\fill}
%   \cleardoublepage
% }




% ---------- Réinitialiser numérotation ----------
\pretocmd{\part}{\setcounter{chapter}{0}}{}{}

% ---------- Document ----------
\begin{document}

%  une introduction : 

\title{\textbf{Exercices Préparation Interview Quant}}
\author{Mohamed Ahmed Mohamed Lemine}
\date{\today}
\maketitle


\tableofcontents
\clearpage



% ======= I. Math : ==================
\part{Mathématiques}
\input{01_math/01_chapter_analyse_algb/main}
\input{01_math/02_chapter_proba/main}
\input{01_math/03_chapter_calcul_stochastique/main}

% ======= II. Finance : ==================
\part{Quant Finance}
\input{02_finance/01_chapter_option_pricing/main}


% ======= III. Algo : ==================
\part{Algo}
\input{03_Algo/main}

% ======= IV. Brain Teasers : ==================
\part{Brain Teasers}
\input{04_brain_teasers/main}

\end{document}
